<th:block th:replace="~{fragments/header :: headerFragment}"></th:block>

<h3 style="text-align: center">게시글 수정</h3>
<br/>
<div class="col-md-9 mx-auto">
    <div class="col-md-12">
        <form enctype="multipart/form-data">
            <div class="form-group">
                <label for="content">제목</label>
                <div style="display: flex;">
                    <input type="hidden" id="id" th:value="${post.id}">
                    <input style="width: 80%" type="text" class="form-control" id="title" th:value="${post.title}" >
                    <input style="width: 20%; margin-left: 10px" type="text" class="form-control" id="author" th:value="${post.author}" readonly>
                </div>
            </div>
            <div class="form-group">
                <label for="content">내용</label>
                <textarea class="form-control h-75" id="content" th:text="${post.content}"></textarea>
                <th:block th:each="image : ${imageUrls}">
                    <img width="500" th:src="'/files/' + ${image}"/>
                </th:block>
            </div>
            <div class="form-floating mb-3">
                <label>이미지 업로드</label>
                <input type="file" name="files" accept="image/*,.txt" class="form-control" id="files" multiple>
                <th:block th:each="image : ${postsImages}">
                    <div th:text="${image.name}"/>
<!--                    <div>-->
<!--                        <input type="checkbox" th:id="'checkbox_' + ${image.id}" th:name="'selectedImages'" th:value="${image.id}">-->
<!--                        <label th:for="'checkbox_' + ${image.id}">-->
<!--                            <img th:src="'/files/' + ${image.url}" width="100">-->
<!--                        </label>-->
<!--                    </div>-->
<!--                    <input type="checkbox" th:id="${image.id}" th:name="'selectedImages'" th:value="${image.id}">-->
                    <img width="100" th:src="'/files/' + ${image.url}"/>
                    <button th:onclick="'main.imageDelete(' + ${image.postId} + ',' + ${image.id} + ')'" class="badge bi bi-x-square">삭제</button>
                </th:block>
            </div>
        </form>
        <div class="text-right">
            <a href="/" role="button" class="btn btn-secondary">목록으로</a>
            <button type="button" class="btn btn-primary" id="btn-update">수정완료</button>
            <button type="button" class="btn btn-danger" id="btn-delete">삭제</button>
        </div>
    </div>
</div>


<th:block th:replace="~{fragments/footer :: footerFragment}"></th:block>
